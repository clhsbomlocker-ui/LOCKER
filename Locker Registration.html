<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Locker Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family:'Segoe UI',sans-serif; background:#f1f3f4; padding:30px; }
    .notice, form { background:#fff; padding:20px; border-radius:12px; max-width:700px; margin:auto; box-shadow:0 4px 10px rgba(0,0,0,0.1); line-height:1.6; }
    .notice { margin-bottom:30px; }
    .notice h2 { margin-top:0; color:#1a73e8; }
    h1 { text-align:center; }
    label { display:block; margin-top:12px; font-weight:600; }
    input { width:100%; padding:10px; margin-top:5px; border:1px solid #ccc; border-radius:6px; }
    button { margin-top:20px; background:#1a73e8; color:#fff; border:none; padding:10px 20px; border-radius:6px; cursor:pointer; }
    button:hover { background:#1765c1; }
  </style>
</head>
<body>
  <div class="notice">
    <h2>ğŸ“¢ å‚¨ç‰©æŸœç§Ÿå€Ÿäº‹å®œ Locker Rental Notice</h2>
    <h3>ä¸­æ–‡ç‰ˆ</h3>
    <p>è‡´ï¼šå…¨ä½“åŒå­¦</p>
    <p><strong>å‚¨ç‰©æŸœç§Ÿå€Ÿäº‹å®œ</strong></p>
    <p>çº§é•¿å›¢å°†äº <strong>3/3ï¼ˆæ˜ŸæœŸä¸€ï¼‰è‡³ 5/3ï¼ˆæ˜ŸæœŸä¸‰ï¼‰</strong> è¿›è¡Œå‚¨ç‰©æŸœç§Ÿå€Ÿæ‰‹ç»­ã€‚</p>
    <p><strong>æœ‰å…´è¶£ç§Ÿå€Ÿå‚¨ç‰©æŸœçš„åŒå­¦</strong> è¯·å‡†å¤‡ï¼š</p>
    <blockquote>â€¢ RM30ï¼ˆç§Ÿé‡‘ï¼‰<br>â€¢ å¡«å¦¥çš„ç”³è¯·è¡¨æ ¼<br>â€¢ è‡ªå¤‡çš„é”å¤´åŠé’¥åŒ™</blockquote>
    <p>2. æ‰§å§”å°†åˆ°å„ç­å¸¦é¢†åŒå­¦å‰å¾€æŠ¥åå¤„ï¼Œè¯·è€å¿ƒç­‰å¾…æŒ‡ç¤ºã€‚</p>
    <p>3. è”ç»œï¼šè°¢æœæ™‹ 3SK2ï¼ˆğŸ“ 012-578 4699ï¼‰</p>
    <hr>
    <h3>English Version</h3>
    <p><strong>Locker rental registration</strong> will be handled from <strong>3rdâ€“5th March</strong>.</p>
    <p><strong>Bring:</strong> RM30 fee, completed form, a padlock with keys.</p>
  </div>

  <h1>Locker Registration</h1>
  <form id="registrationForm" autocomplete="off">
    <label>Name (English)</label>
    <input type="text" name="name_en" required>
    <label>Name (Chinese)</label>
    <input type="text" name="name_cn" required>
    <label>Class</label>
    <input type="text" name="class" required>
    <label>School Number</label>
    <input type="text" name="school_no" required>
    <label>Contact Number</label>
    <input type="tel" name="contact" pattern="[0-9]{8,12}" required>
    <label>Email Address</label>
    <input type="email" name="email" required>
    <button type="submit">Register</button>
  </form>

  <script>
    const KEY_REGISTERED = 'registeredStudents';

    document.getElementById("registrationForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const data = {
        name_en: this.name_en.value.trim(),
        name_cn: this.name_cn.value.trim(),
        class:   this.class.value.trim(),
        school_no: this.school_no.value.trim().toUpperCase(),
        contact: this.contact.value.trim(),
        email:   this.email.value.trim(),
        created_at: Date.now()
      };
      if (!data.school_no) { alert("School Number required."); return; }

      const reg = JSON.parse(localStorage.getItem(KEY_REGISTERED)) || [];
      if (reg.some(s => (s.school_no||'').toUpperCase() === data.school_no)) {
        alert("This School Number has already registered.");
        return;
      }
      reg.push(data);
      localStorage.setItem(KEY_REGISTERED, JSON.stringify(reg));
      alert("Registration submitted! Please wait for further information.");
      this.reset();
    });
  </script>
</body>
</html>
